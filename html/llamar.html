
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejemplo Celular Ajax y Json</title>

    <link rel="stylesheet" type="text/css" href="../css/botones.css">
    <script type="text/javascript" src="../js/llamar.js"></script>


</head>
<body onload="init();">
        <table class="calculadora">
                
                <tr>
                <td colspan="3"><span id="historial"></span></td>
                </tr>
                <tr>
                    <td colspan="3"><span id="resultado"></span></td>
                    </tr>
                <tr>
                    <td><button id="uno">1</button></td><td><button id="dos">2</button></td><td><button id="tres">3</button></td>
                </tr>
                <tr>
                    <td><button id="cuatro">4</button></td><td><button id="cinco">5</button></td><td><button id="seis">6</button></td>
                </tr>
                <tr>
                    <td><button id="siete">7</button></td><td><button id="ocho">8</button></td><td><button id="nueve">9</button></td>
                </tr>
                <tr>
                    <td><button id="asteristico">*</button></td><td><button id="cero">0</button></td><td><button id="numeral"><strong>#</strong></button></td>
                </tr>
                <tr>
                    <td></td><td><button id="llamar">üìû</button></td><td></td>
                </tr>
                <tr>
                    <td><a href="../index.html" class="button"><button id="atras">‚óÅ</button></a></td>
                    <td><a href="../index.html" class="button"><button id="salir">‚óâ</button></a></td>
                    <td><button id="eliminar">‚å´</button></td>
                </tr>
        </table>
        <button onclick="ajax_get_json()">M</button>  
        <button type="button" onclick="agregar_datos()">A</button>
        <div id="info"></div>

        <script type="text/javascript">
    var r = document.getElementById("info");
	var datos = [];
	function ajax_json_array() {
		var xmlhttp;

		if(window.XMLHttpRequest) {
			xmlhttp = new XMLHttpRequest();
		}
		else {
			xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
		}

		xmlhttp.onreadystatechange = function() {
			if (xmlhttp.readyState === 4 && xmlhttp.status === 200) {
				var data = JSON.parse(xmlhttp.responseText);
				datos = data;
				actualizar_datos();
			}
		}
	
		xmlhttp.open("GET" , "../json/numeros.json" , true);
		xmlhttp.send();
	}

	function actualizar_datos() {
		r.innerHTML = "";
		for (var i in datos) {
			r.innerHTML += "se llama "+ datos[i].nombre+" tiene el telefono "+datos[i].telefono +" "+"<hr/>";
		}
	}

	function agregar_datos() {
		var nombre = document.getElementById("nombre").value;
		var nuevo_dato = {
			nombre: "andres",
			telefono:resultado.textContent,
			
		};
		datos.push(nuevo_dato);
		actualizar_datos();
		document.getElementById("nombre").value = "";
	}

        </script>
        
</body>
</html>


